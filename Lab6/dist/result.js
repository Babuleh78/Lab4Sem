/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./components/accordion/index.js":
/*!***************************************!*\
  !*** ./components/accordion/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccordionElement: () => (/* binding */ AccordionElement)\n/* harmony export */ });\nclass AccordionElement {\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n    }\r\n\r\n    getHTML(element_name, element_text, id) {\r\n        return `\r\n          <div class=\"accordion-item\">\r\n            <h2 class=\"accordion-header\" id=\"heading-${id}\">\r\n              <button class=\"accordion-button collapsed\" type=\"button\" \r\n                      data-bs-toggle=\"collapse\" \r\n                      data-bs-target=\"#collapse-${id}\" \r\n                      aria-expanded=\"false\" \r\n                      aria-controls=\"collapse-${id}\">\r\n                ${element_name}\r\n              </button>\r\n            </h2>\r\n            <div id=\"collapse-${id}\" class=\"accordion-collapse collapse\" \r\n                 aria-labelledby=\"heading-${id}\" \r\n                 data-bs-parent=\"#accordionExample\">\r\n              <div class=\"accordion-body\">\r\n                ${element_text}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        `;\r\n    }\r\n\r\n    render(data) {\r\n        const html = this.getHTML(data.title, data.content, data.id);\r\n        this.parent.insertAdjacentHTML('beforeend', html);\r\n    }\r\n}\n\n//# sourceURL=webpack://lab5/./components/accordion/index.js?");

/***/ }),

/***/ "./components/back-button/index.js":
/*!*****************************************!*\
  !*** ./components/back-button/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackButtonComponent: () => (/* binding */ BackButtonComponent)\n/* harmony export */ });\nclass BackButtonComponent {\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n    }\r\n\r\n    addListeners(listener) {\r\n        document\r\n            .getElementById(\"back-button\")\r\n            .addEventListener(\"click\", listener)\r\n    }\r\n\r\n    getHTML() {\r\n        return (\r\n            `\r\n                <button id=\"back-button\" class=\"btn btn-primary\" type=\"button\">Назад</button>\r\n               \r\n            `\r\n        )\r\n    }\r\n\r\n    render(listener) {\r\n        const html = this.getHTML()\r\n        this.parent.insertAdjacentHTML('beforeend', html)\r\n        this.addListeners(listener)\r\n\r\n    }\r\n}\n\n//# sourceURL=webpack://lab5/./components/back-button/index.js?");

/***/ }),

/***/ "./components/product-card/index.js":
/*!******************************************!*\
  !*** ./components/product-card/index.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProductCardComponent: () => (/* binding */ ProductCardComponent)\n/* harmony export */ });\nclass ProductCardComponent {\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n    }\r\n\r\n\r\n    getHTML(data, index) {\r\n        return `\r\n        <div class=\"card shadow-sm\" style=\"width: 18rem; margin: 15px;\">\r\n            <img src=\"${data.photo || 'https://via.placeholder.com/300'}\" \r\n                 class=\"card-img-top\" \r\n                 alt=\"${data.first_name} ${data.last_name}\"\r\n                 style=\"height: 250px; object-fit: cover;\">\r\n            \r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title\">\r\n                    ${data.first_name || 'Имя не указано'} \r\n                    ${data.last_name || 'Фамилия не указана'}\r\n                </h5>\r\n                \r\n                <div class=\"d-flex justify-content-between mb-2\">\r\n                    <span class=\"badge bg-${data.sex === 'Мужской' ? 'primary' : 'danger'}\">\r\n                        ${data.sex}\r\n                    </span>\r\n                    <span class=\"text-muted\">\r\n                        <i class=\"bi bi-geo-alt\"></i> \r\n                        ${data.city}\r\n                    </span>\r\n                </div>\r\n                \r\n                <p class=\"card-text\">\r\n                    <small class=\"text-muted\">\r\n                        <i class=\"bi bi-clock\"></i> \r\n                        Был(а) в сети: ${data.last_seen}\r\n                    </small>\r\n                </p>\r\n                \r\n                ${data.status ? `<p class=\"card-text mt-2\">${data.status}</p>` : ''}\r\n                \r\n                <button id=\"click-card-${index}\" class=\"btn btn-outline-primary w-100 mt-2 >\r\n                        data-index=\"${index}\">\r\n                    Подробнее\r\n                </button>\r\n            </div>\r\n        </div>\r\n        `;\r\n    }\r\n\r\n    addListeners(index, listener) {\r\n        const button = document.getElementById(`click-card-${index}`);\r\n        if (button) {\r\n            button.addEventListener(\"click\", listener);\r\n        }\r\n    }\r\n\r\n    render(data, index, listener) {\r\n        const html = this.getHTML(data, index);\r\n        this.parent.insertAdjacentHTML('beforeend', html);\r\n        this.addListeners(index, listener);\r\n    }\r\n}\n\n//# sourceURL=webpack://lab5/./components/product-card/index.js?");

/***/ }),

/***/ "./components/product/index.js":
/*!*************************************!*\
  !*** ./components/product/index.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProductComponent: () => (/* binding */ ProductComponent)\n/* harmony export */ });\n/* harmony import */ var _accordion_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../accordion/index.js */ \"./components/accordion/index.js\");\n\r\n\r\nclass ProductComponent {\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n    }\r\n\r\n    getHTML(data) {\r\n        return `\r\n        <div class=\"row\" style=\"\r\n            padding: 10px;\r\n            border-radius: 12px;\r\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);\r\n            background: GreenYellow;\r\n            width: 100%;\r\n        \">\r\n            <div class=\"col-md-4\" style=\"\r\n                overflow: hidden;\r\n                border-radius: 10px;\r\n                background: white;\r\n                padding: 20px;\r\n                max-height: 500px;\r\n            \">\r\n                <img src=\"${data.photo}\" class=\"img-fluid\" style=\"\r\n                    border-radius: 10px;\r\n                    width: 100%;\r\n                    height: 100%;\r\n                \" alt=\"Фото профиля\">\r\n            </div>\r\n            <div class=\"col-md-8\" style=\"padding: 0 20px;\">\r\n                <div class=\"accordion\" id=\"userAccordion\">\r\n                    <!-- Имя и вариации -->\r\n                    <div class=\"accordion-item\">\r\n                        <h2 class=\"accordion-header\">\r\n                            <button class=\"accordion-button\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#nameSection\">\r\n                                Имя и вариации\r\n                            </button>\r\n                        </h2>\r\n                        <div id=\"nameSection\" class=\"accordion-collapse collapse show\" data-bs-parent=\"#userAccordion\">\r\n                            <div class=\"accordion-body\">\r\n                                <p><strong>Имя:</strong> ${data.first_name} ${data.last_name}</p>\r\n                                ${data.nickname ? `<p><strong>Никнейм:</strong> ${data.nickname}</p>` : ''}\r\n                                ${data.maiden_name ? `<p><strong>Девичья фамилия:</strong> ${data.maiden_name}</p>` : ''}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n    \r\n                    <!-- Основная информация -->\r\n                    <div class=\"accordion-item\">\r\n                        <h2 class=\"accordion-header\">\r\n                            <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#basicInfoSection\">\r\n                                Основная информация\r\n                            </button>\r\n                        </h2>\r\n                        <div id=\"basicInfoSection\" class=\"accordion-collapse collapse\" data-bs-parent=\"#userAccordion\">\r\n                            <div class=\"accordion-body\">\r\n                                <p><strong>Пол:</strong> ${data.sex}</p>\r\n                                ${data.bdate ? `<p><strong>Дата рождения:</strong> ${data.bdate}</p>` : ''}\r\n                                ${data.city ? `<p><strong>Город:</strong> ${data.city}</p>` : ''}\r\n                                ${data.country ? `<p><strong>Страна:</strong> ${data.country}</p>` : ''}\r\n                                <p><strong>Ссылка:</strong> vk.com/${data.domain}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n    \r\n                    <!-- Активность -->\r\n                    <div class=\"accordion-item\">\r\n                        <h2 class=\"accordion-header\">\r\n                            <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#activitySection\">\r\n                                Активность\r\n                            </button>\r\n                        </h2>\r\n                        <div id=\"activitySection\" class=\"accordion-collapse collapse\" data-bs-parent=\"#userAccordion\">\r\n                            <div class=\"accordion-body\">\r\n                                <p><strong>Статус:</strong> ${data.online ? 'Онлайн' : 'Оффлайн'}</p>\r\n                                ${data.last_seen ? `<p><strong>Последний визит:</strong> ${data.last_seen}</p>` : ''}\r\n                                ${data.status ? `<p><strong>Статус:</strong> ${data.status}</p>` : ''}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n    \r\n                    <!-- Социальные связи -->\r\n                    <div class=\"accordion-item\">\r\n                        <h2 class=\"accordion-header\">\r\n                            <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#socialSection\">\r\n                                Социальные связи\r\n                            </button>\r\n                        </h2>\r\n                        <div id=\"socialSection\" class=\"accordion-collapse collapse\" data-bs-parent=\"#userAccordion\">\r\n                            <div class=\"accordion-body\">\r\n                                ${data.relation ? `<p><strong>Семейное положение:</strong> ${data.relation}</p>` : ''}\r\n                                ${data.relatives ? `<p><strong>Отношения:</strong> ${data.relatives}</p>` : ''}\r\n                                <p><strong>Можно писать в ЛС:</strong> ${data.can_write_private_message ? 'Да' : 'Нет'}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n    \r\n                    <!-- Образование и работа -->\r\n                    <div class=\"accordion-item\">\r\n                        <h2 class=\"accordion-header\">\r\n                            <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#educationSection\">\r\n                                Образование и работа\r\n                            </button>\r\n                        </h2>\r\n                        <div id=\"educationSection\" class=\"accordion-collapse collapse\" data-bs-parent=\"#userAccordion\">\r\n                            <div class=\"accordion-body\">\r\n                                ${data.education ? data.education : ''}\r\n                                ${data.universities ? data.universities : ''}\r\n                                ${data.schools ? data.schools : ''}\r\n                                ${data.occupation ? `<p><strong>Род деятельности:</strong> ${data.occupation}</p>` : ''}\r\n                                ${data.career ? `<p><strong>Карьера:</strong> ${data.career} </p>` : ''}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n    \r\n                    <!-- Интересы -->\r\n                    <div class=\"accordion-item\">\r\n                        <h2 class=\"accordion-header\">\r\n                            <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#interestsSection\">\r\n                                Интересы\r\n                            </button>\r\n                        </h2>\r\n                        <div id=\"interestsSection\" class=\"accordion-collapse collapse\" data-bs-parent=\"#userAccordion\">\r\n                            <div class=\"accordion-body\">\r\n                                ${data.activities ? `<p><strong>Деятельность:</strong> ${data.activities}</p>` : ''}\r\n                                ${data.interests ? `<p><strong>Интересы:</strong> ${data.interests}</p>` : ''}\r\n                                ${data.music ? `<p><strong>Музыка:</strong> ${data.music}</p>` : ''}\r\n                                ${data.movies ? `<p><strong>Фильмы:</strong> ${data.movies}</p>` : ''}\r\n                                ${data.tv ? `<p><strong>ТВ:</strong> ${data.tv}</p>` : ''}\r\n                                ${data.books ? `<p><strong>Книги:</strong> ${data.books}</p>` : ''}\r\n                                ${data.games ? `<p><strong>Игры:</strong> ${data.games}</p>` : ''}\r\n                                ${data.about ? `<p><strong>О себе:</strong> ${data.about}</p>` : ''}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n    \r\n                   \r\n                   \r\n                </div>\r\n            </div>\r\n        </div>\r\n    \r\n       \r\n        `;\r\n    }\r\n    render(data) {\r\n        const html = this.getHTML(data);\r\n        this.parent.insertAdjacentHTML('beforeend', html);\r\n    \r\n    }\r\n}\n\n//# sourceURL=webpack://lab5/./components/product/index.js?");

/***/ }),

/***/ "./main.js":
/*!*****************!*\
  !*** ./main.js ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pages_main_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pages/main/index.js */ \"./pages/main/index.js\");\n\r\n\r\nconst root = document.getElementById('root');\r\n\r\nconst mainPage = new _pages_main_index_js__WEBPACK_IMPORTED_MODULE_0__.MainPage(root);\r\n\r\nmainPage.render();\n\n//# sourceURL=webpack://lab5/./main.js?");

/***/ }),

/***/ "./modules/ajax.js":
/*!*************************!*\
  !*** ./modules/ajax.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ajax: () => (/* binding */ ajax)\n/* harmony export */ });\nclass Ajax {\r\n    post(url, params = {}) {\r\n        return new Promise((resolve, reject) => {\r\n            const xhr = new XMLHttpRequest();\r\n            const urlWithParams = `${url}?${new URLSearchParams(params)}`;\r\n            \r\n            xhr.open('POST', urlWithParams);\r\n            xhr.send();\r\n\r\n            xhr.onreadystatechange = () => {\r\n                if (xhr.readyState === 4) {\r\n                    if (xhr.status === 200) {\r\n                        try {\r\n                            const data = JSON.parse(xhr.responseText);\r\n                            resolve(data);\r\n                        } catch (e) {\r\n                            console.error('Error parsing response:', e);\r\n                            reject({ error: 'Invalid JSON response' });\r\n                        }\r\n                    } else {\r\n                        reject({ error: `Request failed with status ${xhr.status}` });\r\n                    }\r\n                }\r\n            };\r\n        });\r\n    }\r\n\r\n    \r\n}\r\n\r\nconst ajax = new Ajax();\n\n//# sourceURL=webpack://lab5/./modules/ajax.js?");

/***/ }),

/***/ "./modules/consts.js":
/*!***************************!*\
  !*** ./modules/consts.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACCESS_TOKEN: () => (/* binding */ ACCESS_TOKEN),\n/* harmony export */   GROUP_ID: () => (/* binding */ GROUP_ID),\n/* harmony export */   VK_API_VERSION: () => (/* binding */ VK_API_VERSION)\n/* harmony export */ });\nconst GROUP_ID = '92876084'\r\nconst ACCESS_TOKEN = 'f2eda001f2eda001f2eda00105f1c2bc7dff2edf2eda001951a68b6309dbf356a94904a'\r\n\r\nconst VK_API_VERSION = '5.131'\n\n//# sourceURL=webpack://lab5/./modules/consts.js?");

/***/ }),

/***/ "./modules/urls.js":
/*!*************************!*\
  !*** ./modules/urls.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   urls: () => (/* binding */ urls)\n/* harmony export */ });\n/* harmony import */ var _consts_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./consts.js */ \"./modules/consts.js\");\n\r\n\r\nclass Urls {\r\n    constructor() {\r\n        this.url = 'https://api.vk.com/method'\r\n        this.commonInfo = `access_token=${_consts_js__WEBPACK_IMPORTED_MODULE_0__.ACCESS_TOKEN}&v=${_consts_js__WEBPACK_IMPORTED_MODULE_0__.VK_API_VERSION}`\r\n    }\r\n\r\n    getUsersInfo(userIds) {\r\n        return `${this.url}/users.get?user_ids=${userIds.join(',')}&fields=photo_400,first_name,last_name,city,last_seen,status,sex&${this.commonInfo}`;\r\n    }\r\n\r\n    getGroupMembers(GROUP_ID) {\r\n        return `${this.url}/groups.getMembers?group_id=${GROUP_ID}&${this.commonInfo}`\r\n    }\r\n\r\n    getUltimate(user_id) {\r\n        return `${this.url}/users.get?user_ids=${user_id}&fields=`\r\n            + 'photo_200,photo_400,photo_max_orig,'  // качественные фото\r\n            + 'first_name,last_name,nickname,maiden_name,'  // имя и его вариации\r\n            + 'sex,bdate,city,country,domain,'  // основная информация\r\n            + 'online,last_seen,status,'  // активность\r\n            + 'relation,relatives,can_write_private_message,'  // социальные связи\r\n            + 'education,universities,schools,occupation,career,'  // образование и работа\r\n            + 'activities,interests,music,movies,tv,books,games,about,'  // интересы\r\n            + 'counters,contacts,site,skype,facebook,twitter,instagram'  // контакты и соцсети\r\n            + `&${this.commonInfo}`;\r\n    }\r\n    \r\n    getLocalHostData(){\r\n        return `http://localhost:8000/data/get`;\r\n    }\r\n}\r\n\r\nconst urls = new Urls()\n\n//# sourceURL=webpack://lab5/./modules/urls.js?");

/***/ }),

/***/ "./pages/main/index.js":
/*!*****************************!*\
  !*** ./pages/main/index.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MainPage: () => (/* binding */ MainPage)\n/* harmony export */ });\n/* harmony import */ var _components_product_card_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/product-card/index.js */ \"./components/product-card/index.js\");\n/* harmony import */ var _product_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../product/index.js */ \"./pages/product/index.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../modules/ajax.js */ \"./modules/ajax.js\");\n/* harmony import */ var _modules_urls_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modules/urls.js */ \"./modules/urls.js\");\n/* harmony import */ var _modules_consts_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../modules/consts.js */ \"./modules/consts.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass MainPage {\r\n\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n        this.maindata = [];\r\n        this.currentFilters = {\r\n            city: '',\r\n            sex: null,\r\n            bdate: '',\r\n            lastSeen: null\r\n        };\r\n    }\r\n    \r\n    get pageRoot() {\r\n        return document.getElementById('main-page');\r\n    }\r\n    \r\n    getHTML() {\r\n        return `\r\n        <div id=\"main-page\" class=\"container-fluid p-4\">\r\n         <section class=\"filters-overlay\">\r\n            <h2> Фильтры <button class=\"collapse-button\">▼</button></h2>\r\n            <div class=\"change-section-content\">\r\n                <input type=\"text\" id=\"filter-city\" placeholder=\"Город\">\r\n                <input type=\"text\" id=\"filter-date\" placeholder=\"Дата рождения\">\r\n                \r\n                <div class=\"filter-group\">\r\n                    <label>Пол:</label>\r\n                    <div class=\"button-group\">\r\n                        <button class=\"sex-button\" data-value=\"м\">М</button>\r\n                        <button class=\"sex-button\" data-value=\"ж\">Ж</button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"filter-group\">\r\n                    <label>Последняя активность:</label>\r\n                    <div class=\"button-group\">\r\n                        <button class=\"activity-button\" data-value=\"1h\">Менее часа назад</button>\r\n                        <button class=\"activity-button\" data-value=\"24h\">Менее суток назад</button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"action-buttons\">\r\n                    <button id=\"filter-button\">Применить</button>\r\n                    <button id=\"sbros-button\">Сброс</button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n                <div class=\"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-4\" id=\"cards-container\">\r\n                    \r\n                </div>\r\n\r\n            \r\n        </div>\r\n        `;\r\n    }\r\n    \r\n    // async getData() {\r\n    //     try {\r\n            \r\n    //         const apiResponse = await ajax.post(urls.getGroupMembers(GROUP_ID));\r\n            \r\n    //         const memberIds = apiResponse.response.items.slice(0, 20);\r\n    //         const usersInfo = await ajax.post(urls.getUltimate(memberIds));\r\n            \r\n    //         return usersInfo.response;\r\n            \r\n    //     } catch (error) {\r\n    //         console.error('Лошара:', error);\r\n    //         return [];\r\n    //     }\r\n    // }\r\n\r\n    \r\n    // async getData() {\r\n    //     try {\r\n    \r\n    //         const membersUrl = new URL('https://api.vk.com/method/groups.getMembers');\r\n    //         membersUrl.searchParams.append('group_id', GROUP_ID);\r\n    //         membersUrl.searchParams.append('access_token', ACCESS_TOKEN);\r\n    //         membersUrl.searchParams.append('v', '5.131');\r\n            \r\n    //         const membersResponse = await fetch(membersUrl.toString(), { //axios boundle\r\n    //             method: 'GET', \r\n    //             headers: {\r\n    //                 'Content-Type': 'application/x-www-form-urlencoded',\r\n    //                 'Accept': 'application/json'\r\n    //             }\r\n    //         });\r\n    \r\n    //         if (!membersResponse.ok) throw new Error('Ошибка сети');\r\n    //         const membersData = await membersResponse.json();\r\n            \r\n    //         if (membersData.error) throw new Error(membersData.error.error_msg);\r\n            \r\n    //         const memberIds = membersData.response.items.slice(0, 20);\r\n    \r\n    //         const usersUrl = new URL('https://api.vk.com/method/users.get');\r\n\r\n           \r\n    //         usersUrl.searchParams.append('user_ids', memberIds.join(','));\r\n    //         const USER_FIELDS = [\r\n    //             'photo_200', 'photo_400', 'photo_max_orig',\r\n    //             'first_name', 'last_name', 'nickname', 'maiden_name',\r\n    //             'sex', 'bdate', 'city', 'country', 'domain',\r\n    //             'online', 'last_seen', 'status',\r\n    //             'relation', 'relatives', 'can_write_private_message',\r\n    //             'education', 'universities', 'schools', 'occupation', 'career',\r\n    //             'activities', 'interests', 'music', 'movies', 'tv', 'books', 'games', 'about',\r\n    //             'counters', 'contacts', 'site', 'skype', 'facebook', 'twitter', 'instagram'\r\n    //         ].join(',');\r\n            \r\n    //         usersUrl.searchParams.append('fields', USER_FIELDS);\r\n    //         usersUrl.searchParams.append('access_token', ACCESS_TOKEN);\r\n    //         usersUrl.searchParams.append('v', '5.131');\r\n            \r\n    //         const usersResponse = await fetch(usersUrl.toString(), {\r\n    //             method: 'GET',\r\n    //             headers: {\r\n    //                 'Content-Type': 'application/x-www-form-urlencoded',\r\n    //                 'Accept': 'application/json'\r\n    //             }\r\n    //         });\r\n    \r\n    //         if (!usersResponse.ok) throw new Error('Ошибка сети');\r\n    //         const usersData = await usersResponse.json();\r\n            \r\n    //         if (usersData.error) throw new Error(usersData.error.error_msg);\r\n    \r\n    //         return usersData.response;\r\n            \r\n    //     } catch (error) {\r\n    //         console.error('Ошибка при получении данных:', error);\r\n    //         return [];\r\n    //     }\r\n    // }   \r\n\r\n    async  getData() {\r\n        try {\r\n            const membersResponse = await axios.get('https://api.vk.com/method/groups.getMembers', {\r\n                params: {\r\n                    group_id: _modules_consts_js__WEBPACK_IMPORTED_MODULE_4__.GROUP_ID,\r\n                    access_token: _modules_consts_js__WEBPACK_IMPORTED_MODULE_4__.ACCESS_TOKEN,\r\n                    v: '5.131'\r\n                },\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                    'Accept': 'application/json'\r\n                }\r\n            });\r\n\r\n            if (membersResponse.data.error) {\r\n                throw new Error(membersResponse.data.error.error_msg);\r\n            }\r\n\r\n            const memberIds = membersResponse.data.response.items.slice(0, 20);\r\n\r\n            const USER_FIELDS = [\r\n                'photo_200', 'photo_400', 'photo_max_orig',\r\n                'first_name', 'last_name', 'nickname', 'maiden_name',\r\n                'sex', 'bdate', 'city', 'country', 'domain',\r\n                'online', 'last_seen', 'status',\r\n                'relation', 'relatives', 'can_write_private_message',\r\n                'education', 'universities', 'schools', 'occupation', 'career',\r\n                'activities', 'interests', 'music', 'movies', 'tv', 'books', 'games', 'about',\r\n                'counters', 'contacts', 'site', 'skype', 'facebook', 'twitter', 'instagram'\r\n            ].join(',');\r\n\r\n            const usersResponse = await axios.get('https://api.vk.com/method/users.get', {\r\n                params: {\r\n                    user_ids: memberIds.join(','),\r\n                    fields: USER_FIELDS,\r\n                    access_token: _modules_consts_js__WEBPACK_IMPORTED_MODULE_4__.ACCESS_TOKEN,\r\n                    v: '5.131'\r\n                },\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                    'Accept': 'application/json'\r\n                }\r\n            });\r\n\r\n            if (usersResponse.data.error) {\r\n                throw new Error(usersResponse.data.error.error_msg);\r\n            }\r\n\r\n            return usersResponse.data.response;\r\n\r\n        } catch (error) {\r\n            console.error('Ошибка при получении данных:', error);\r\n            return [];\r\n        }\r\n    }\r\n\r\n    clickCard(item, e) {\r\n        const cardId = e.target.dataset.id;\r\n        const productPage = new _product_index_js__WEBPACK_IMPORTED_MODULE_1__.ProductPage(this.parent, cardId);\r\n        productPage.render(item);\r\n    }\r\n    \r\n   \r\n    \r\n    filterData(data, filters) {\r\n\r\n        console.log(filters);\r\n        \r\n        const result = data.filter(member => {\r\n            // Фильтр по городу (текстовый ввод)\r\n            \r\n            if (filters.city && member.city?.title?.toLowerCase() !== filters.city.toLowerCase()) {\r\n               \r\n               \r\n                return false;\r\n            }\r\n            \r\n            // Фильтр по полу\r\n            if (filters.sex) {\r\n                let sexValue;\r\n                if (filters.sex === 'м') sexValue = 2;\r\n                else if (filters.sex === 'ж') sexValue = 1;\r\n                else if (filters.sex === 'не указан') sexValue = 0;\r\n                \r\n                if (member.sex !== sexValue) return false;\r\n            }\r\n            \r\n            // Фильтр по дате рождения\r\n            if (filters.bdate) {\r\n                if (!member.bdate) return false;\r\n                    const [day, month, year] = member.bdate.split('.');\r\n                    const birthDate = new Date(year || 2000, month - 1, day);\r\n                    const filterDate = new Date(filters.bdate);\r\n                    \r\n                    // Сравниваем только год, если введен только год\r\n                    if (filters.bdate.length === 4) {\r\n                        if (year !== filters.bdate) return false;\r\n                    } else {\r\n                        if (birthDate > filterDate) return false;\r\n                    }\r\n                \r\n            }\r\n            \r\n            \r\n\r\n            // Фильтр по последней активности\r\n            if (filters.lastSeen) {\r\n                if (!member.last_seen?.time) return false;\r\n                \r\n                const lastSeenTime = member.last_seen.time * 1000;\r\n                const now = Date.now();\r\n                const diffHours = (now - lastSeenTime) / (1000 * 60 * 60);\r\n                \r\n                switch (filters.lastSeen) {\r\n                    case '1h':\r\n                        if (diffHours > 1) return false;\r\n                        break;\r\n                    case '24h':\r\n                        if (diffHours > 24) return false;\r\n                        break;\r\n                    case 'recently':\r\n                        if (diffHours > 24 * 7) return false;\r\n                        break;\r\n                }\r\n            }\r\n            \r\n            return true;\r\n        });\r\n\r\n        if(result.length!=0){\r\n            return result;\r\n        }\r\n\r\n        alert(\"Данных нет!\");\r\n        return this.philterdata;\r\n    }\r\n    \r\n    formatLastSeen(lastSeen) {\r\n        const now = new Date();\r\n        const lastSeenDate = new Date(lastSeen.time * 1000);\r\n        const diffMinutes = Math.floor((now - lastSeenDate) / (1000 * 60));\r\n        \r\n        if (diffMinutes < 1) return \"Только что\";\r\n        if (diffMinutes < 60) return `${diffMinutes} мин. назад`;\r\n        if (diffMinutes < 1440) return `${Math.floor(diffMinutes / 60)} ч. назад`;\r\n        return lastSeenDate.toLocaleDateString();\r\n    }\r\n\r\n    // Текст для семейного положения\r\n    getRelationText(relation) {\r\n        const relations = {\r\n            1: 'Не женат/Не замужем',\r\n            2: 'Есть друг/Есть подруга',\r\n            3: 'Помолвлен/Помолвлена',\r\n            4: 'Женат/Замужем',\r\n            5: 'Всё сложно',\r\n            6: 'В активном поиске',\r\n            7: 'Влюблён/Влюблена',\r\n            8: 'В гражданском браке'\r\n        };\r\n        return relations[relation] || 'Не указано';\r\n    }\r\n\r\n    // Форматирование информации об образовании\r\n    formatEducation(education) {\r\n        return {\r\n            university: education.university_name ?? null,\r\n            faculty: education.faculty_name ?? null,\r\n            graduation: education.graduation ?? null\r\n        };\r\n    }\r\n\r\n    // Форматирование информации о карьере\r\n    formatCareer(career) {\r\n        return career.map(job => ({\r\n            company: job.company ?? \"Не указано\",\r\n            position: job.position ?? \"Не указана\",\r\n            from: job.from ?? null,\r\n            to: job.to ?? null\r\n        }));\r\n    }\r\n\r\n    // Форматирование информации о родственниках\r\n    formatRelatives(relatives) {\r\n        return relatives.map(rel => ({\r\n            type: rel.type === 'child' ? 'Ребенок' : 'Родитель',\r\n            name: rel.name ?? \"Не указано\",\r\n            id: rel.id ? `vk.com/id${rel.id}` : null\r\n        }));\r\n    }\r\n    \r\n    setupEventListeners() {\r\n        const collapseButton = this.pageRoot.querySelector('.collapse-button');\r\n        const content = this.pageRoot.querySelector('.change-section-content');\r\n        \r\n        content.style.display = \"none\";\r\n        collapseButton.textContent = \"▶️ \";\r\n        \r\n        collapseButton.addEventListener('click', () => {\r\n            if (content.style.display === \"none\") {\r\n                content.style.display = \"block\";\r\n                collapseButton.textContent = \"🔽\";\r\n            } else {\r\n                content.style.display = \"none\";\r\n                collapseButton.textContent = \"▶️\";\r\n            }\r\n        });\r\n        \r\n        // Обработчики для кнопок фильтрации\r\n        document.getElementById('filter-button').addEventListener('click', () => {\r\n            // Собираем параметры фильтрации\r\n            const filters = {\r\n                city: document.getElementById('filter-city').value,\r\n                sex: document.querySelector('.sex-button.active')?.dataset.value,\r\n                bdate: document.getElementById('filter-date').value,\r\n                lastSeen: document.querySelector('.activity-button.active')?.dataset.value\r\n            };\r\n\r\n            this.currentFilters = {\r\n                city: document.getElementById('filter-city').value,\r\n                sex: document.querySelector('.sex-button.active')?.dataset.value,\r\n                bdate: document.getElementById('filter-date').value,\r\n                lastSeen: document.querySelector('.activity-button.active')?.dataset.value\r\n            };\r\n            // Фильтруем данные и обновляем отображение\r\n            this.philterdata = this.filterData(this.maindata, filters);\r\n            this.render();\r\n        });\r\n        \r\n        // Обработчик кнопки сброса\r\n        document.getElementById('sbros-button').addEventListener('click', () => {\r\n            // Сброс всех фильтров\r\n            this.philterdata = this.maindata;\r\n            \r\n            // Сброс UI элементов\r\n            document.querySelectorAll('.button-group button').forEach(btn => {\r\n                btn.classList.remove('active');\r\n            });\r\n            document.querySelectorAll('input[type=\"text\"]').forEach(input => {\r\n                input.value = '';\r\n            });\r\n            \r\n            this.render();\r\n        });\r\n        \r\n        // Обработчики для кнопок выбора с возможностью отжатия\r\n        document.querySelectorAll('.sex-button, .activity-button').forEach(button => {\r\n            button.addEventListener('click', function() {\r\n                if (this.classList.contains('active')) {\r\n                    this.classList.remove('active');\r\n                } else {\r\n                    this.parentNode.querySelectorAll('button').forEach(btn => {\r\n                        btn.classList.remove('active');\r\n                    });\r\n                    this.classList.add('active');\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    wellBeBackByMegadeth() {\r\n        // Восстанавливаем текстовые поля\r\n        document.getElementById('filter-city').value = this.currentFilters.city || '';\r\n        document.getElementById('filter-date').value = this.currentFilters.bdate || '';\r\n        \r\n        // Восстанавливаем активные кнопки\r\n        if (this.currentFilters.sex) {\r\n            const sexButton = document.querySelector(`.sex-button[data-value=\"${this.currentFilters.sex}\"]`);\r\n            if (sexButton) {\r\n                sexButton.classList.add('active');\r\n            }\r\n        }\r\n        \r\n        if (this.currentFilters.lastSeen) {\r\n            const activityButton = document.querySelector(`.activity-button[data-value=\"${this.currentFilters.lastSeen}\"]`);\r\n            if (activityButton) {\r\n                activityButton.classList.add('active');\r\n            }\r\n        }\r\n    }\r\n    async render() {\r\n        this.parent.innerHTML = '';\r\n        this.parent.insertAdjacentHTML('beforeend', this.getHTML());\r\n\r\n        const cardsContainer = document.getElementById('cards-container');\r\n       \r\n        \r\n        if(this.maindata.length === 0){ \r\n            const data = await this.getData();\r\n            this.maindata = data;\r\n            this.philterdata = data;\r\n            console.log(\"Используем VK API\", Date.now());\r\n        }\r\n\r\n        if (this.philterdata.length!=0) {\r\n\r\n            \r\n\r\n            this.philterdata.forEach((item, index) => {\r\n              \r\n                const modifiedItem = {\r\n                    // Основная информация\r\n                    first_name: item.first_name ?? \"Имя не указано\",\r\n                    last_name: item.last_name ?? \"Фамилия не указана\",\r\n                    nickname: item.nickname ?? null,\r\n                    maiden_name: item.maiden_name ?? null,\r\n                    \r\n                    // Фотографии (выбираем наилучшее доступное качество)\r\n                    photo: item.photo_max_orig ?? item.photo_400 ?? item.photo_200,\r\n                    \r\n                    // Демографическая информация\r\n                    sex: typeof item.sex === 'number' \r\n                        ? (item.sex === 2 ? \"Мужской\" : item.sex === 1 ? \"Женский\" : \"Не указан\") \r\n                        : \"Не указан\",\r\n                    bdate: item.bdate ?? \"Не указана\",\r\n                    city: item.city?.title ?? \"Город не указан\",\r\n                    country: item.country?.title ?? \"Страна не указана\",\r\n                    domain: item.domain ? `vk.com/${item.domain}` : null,\r\n                    \r\n                    // Активность\r\n                    online: item.online ? \"Онлайн\" : \"Оффлайн\",\r\n                    last_seen: item.last_seen ? this.formatLastSeen(item.last_seen) : \"Недавно\",\r\n                    status: item.status ?? \"Статус не установлен\",\r\n                    \r\n                    // Социальные связи\r\n                    relation: item.relation ? this.getRelationText(item.relation) : \"Не указано\",\r\n                    relatives: item.relatives ? this.formatRelatives(item.relatives) : \"Не указано\",\r\n                    can_write_private_message: item.can_write_private_message ? \"Да\" : \"Нет\",\r\n                    \r\n                    // Образование и работа\r\n                    education: item.education ? this.formatEducation(item.education) : null,\r\n                    universities: item.universities ?? [],\r\n                    schools: item.schools ?? [],\r\n                    occupation: item.occupation ?? \"Не указано\",\r\n                    career: item.career ? this.formatCareer(item.career) : \"Не указано\",\r\n                    \r\n                    // Интересы\r\n                    activities: item.activities ?? \"Не укзаано\",\r\n                    interests: item.interests ??  \"Не укзаано\",\r\n                    music: item.music ??  \"Не укзаано\",\r\n                    movies: item.movies ??  \"Не укзаано\",\r\n                    tv: item.tv ??  \"Не укзаано\",\r\n                    books: item.books ??  \"Не укзаано\",\r\n                    games: item.games ??  \"Не укзаано\",\r\n                    about: item.about ??  \"Не укзаано\",\r\n                    \r\n                    // Контакты\r\n                    contacts: {\r\n                        mobile_phone: item.mobile_phone ??  \"Не укзаано\",\r\n                        home_phone: item.home_phone ??  \"Не укзаано\",\r\n                        site: item.site ??  \"Не укзаано\",\r\n                        skype: item.skype ??  \"Не укзаано\",\r\n                        facebook: item.facebook ??  \"Не укзаано\",\r\n                        twitter: item.twitter ??  \"Не укзаано\",\r\n                        instagram: item.instagram ??  \"Не укзаано\"\r\n                    },\r\n                    \r\n                    \r\n                };\r\n                \r\n                \r\n                const productCard = new _components_product_card_index_js__WEBPACK_IMPORTED_MODULE_0__.ProductCardComponent(cardsContainer);\r\n                productCard.render(modifiedItem, index, this.clickCard.bind(this, modifiedItem));\r\n                \r\n                \r\n            });\r\n        } else{\r\n            console.log(\"NO DATA\");\r\n        }\r\n        \r\n        this.setupEventListeners();\r\n        this.wellBeBackByMegadeth();\r\n        \r\n    }\r\n    \r\n    getFirstTwoSentences(text) {\r\n        if (!text) return '';\r\n        const sentences = text.split(/(?<=[.!?])\\s+/);\r\n        return sentences.slice(0, 2).join(' '); \r\n    }\r\n}\n\n//# sourceURL=webpack://lab5/./pages/main/index.js?");

/***/ }),

/***/ "./pages/product/index.js":
/*!********************************!*\
  !*** ./pages/product/index.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProductPage: () => (/* binding */ ProductPage)\n/* harmony export */ });\n/* harmony import */ var _components_back_button_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/back-button/index.js */ \"./components/back-button/index.js\");\n/* harmony import */ var _main_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../main/index.js */ \"./pages/main/index.js\");\n/* harmony import */ var _components_product_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/product/index.js */ \"./components/product/index.js\");\n\r\n\r\n\r\nclass ProductPage {\r\n    constructor(parent, id) {\r\n        this.parent = parent\r\n        this.id = id\r\n    }\r\n\r\n    \r\n\r\n    get pageRoot() {\r\n        return document.getElementById('product-page')\r\n    }\r\n\r\n    getHTML() {\r\n        return (\r\n            `\r\n                <div id=\"product-page\"></div>\r\n            `\r\n        )\r\n    }\r\n    \r\n    clickBack() {\r\n        var del = document.getElementsByClassName(\"popover bs-popover-auto fade show\")\r\n    \r\n        del.id = \"del\"\r\n       \r\n        for (var i = 0; i <del.length; i++) {\r\n            del[i].id = \"del\" + i; \r\n            del[i].remove();\r\n        }\r\n        \r\n\r\n        const mainPage = new _main_index_js__WEBPACK_IMPORTED_MODULE_1__.MainPage(this.parent)\r\n        mainPage.render()\r\n    }\r\n \r\n\r\n    \r\n    render(item) {\r\n        this.parent.innerHTML = ''\r\n        const html = this.getHTML()\r\n        this.parent.insertAdjacentHTML('beforeend', html)\r\n\r\n        const backButton = new _components_back_button_index_js__WEBPACK_IMPORTED_MODULE_0__.BackButtonComponent(this.pageRoot)\r\n        backButton.render(this.clickBack.bind(this))\r\n\r\n        const stock = new _components_product_index_js__WEBPACK_IMPORTED_MODULE_2__.ProductComponent(this.pageRoot)\r\n        stock.render(item)\r\n    }\r\n}\n\n//# sourceURL=webpack://lab5/./pages/product/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./main.js");
/******/ 	
/******/ })()
;